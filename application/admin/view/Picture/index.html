<div ng-app="app">
  <div ng-controller="test">
    <div class="row">
      <div class="col-md-2 text-right">
          图片
      </div>
      <div class="col-md-3">
        <input type="file" name="image" />
        <button type="button" ngf-select="upload($file, key)">上传</button>
      </div>
    </div>
  </div> 
</div>

<script>
app.controller('test', function ($scope, Upload) {
     // upload on file select or drop
     $scope.upload = function (file, key) {
         Upload.upload({
             url: '{:url("picture/index")}',
             data: {image: file}
         }).then(function (resp) {
             var imageInfo = resp.data.data;
             console.log(imageInfo);
             $scope.images[key] = imageInfo.url;
         }, function (resp) {
             console.log('Error status: ' + resp.status);
         }, function (evt) {
             // var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
             // console.log('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);
         });
     };    
});
</script>
